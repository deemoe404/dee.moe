/* GitHub-style theme pack */
:root {
  --bg: #f6f8fa;
  --text: #24292f;
  --muted: #57606a;
  --primary: #0969da;
  --primary-hover: #1f6feb;
  --card: #ffffff;
  --border: #d0d7de;
  --code-bg: #f6f8fa;
  --code-text: #24292f;
  --hr: #d8dee4;
  --shadow: 0 0.0625rem 0.1875rem rgba(31,35,40,0.08), 0 0.0625rem 0.125rem rgba(31,35,40,0.06);
}

[data-theme="dark"] {
  --bg: #0d1117;
  --text: #c9d1d9;
  --muted: #8b949e;
  --primary: #58a6ff;
  --primary-hover: #79c0ff;
  --card: #161b22;
  --border: #30363d;
  --code-bg: #161b22;
  --code-text: #c9d1d9;
  --hr: #30363d;
  --shadow: 0 0.0625rem 0.1875rem rgba(1,4,9,0.4), 0 0.0625rem 0.125rem rgba(1,4,9,0.3);
}

/* Layout and surfaces */
body { background: var(--bg) !important; }
.box { border-radius: 0.375rem !important; box-shadow: none !important; border-color: var(--border) !important; }
.hero { background: var(--card) !important; box-shadow: none !important; }

/* Narrower, GitHub-like page width (keep sidebar on the right) */
.container { max-width: 61.25rem !important; gap: 1.5rem !important; }
.content { flex: 0 1 45rem !important; }
.sidebar { flex: 0 0 15rem !important; }

/* Tabs: GitHub-like underline tabs */
.tabs { background: transparent !important; border: none !important; padding: 0 !important; }
.tab { border: none !important; border-bottom: 0.125rem solid transparent !important; border-radius: 0 !important; padding: .4rem .6rem !important; }
.tab:hover { background: transparent !important; color: var(--text) !important; border-bottom-color: color-mix(in srgb, var(--primary) 40%, transparent) !important; }
.tab.active { background: transparent !important; color: var(--text) !important; border-bottom-color: var(--primary) !important; font-weight: 600 !important; }
.flex-split { align-items: end !important; }
.tabs { width: 100% !important; border-bottom: 0.0625rem solid var(--border) !important; }

/* Index cards: flatter look */
/* Turn grid into list with vertical text stack */
.index { display: block !important; border: none !important; border-radius: 0 !important; overflow: visible !important; }
.index a {
  display: grid !important;
  grid-template-columns: 5rem 1fr;
  grid-template-rows: auto auto auto auto;
  grid-template-areas:
    "cover title"
    "cover excerpt"
    "cover meta"
    "cover tags";
  align-items: start;
  gap: 0.375rem 0.75rem;
  padding: 0.75rem;
  border: none !important;
  border-bottom: 0.0625rem solid var(--border) !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}
/* When there is no cover element (e.g., fallback disabled), collapse to single column */
.index a:not(:has(.card-cover-wrap)) {
  grid-template-columns: 1fr !important;
  grid-template-rows: auto auto auto auto !important;
  grid-template-areas:
    "title"
    "excerpt"
    "meta"
    "tags" !important;
}
.index a:last-child { border-bottom: none; }
.index a:hover { background: color-mix(in srgb, var(--text) 3%, transparent) !important; border: none !important; border-bottom: 0.0625rem solid var(--border) !important; transform: none !important; box-shadow: none !important; }
.index .card-cover-wrap { grid-area: cover; width: 5rem !important; height: auto !important; aspect-ratio: 10 / 16 !important; border-radius: 0.25rem; overflow: hidden; background: color-mix(in srgb, var(--text) 6%, transparent); align-self: center; }
.index .card-cover { width: 100%; height: 100%; object-fit: cover; transition: none !important; }
.index .card-fallback { border-radius: 0.25rem; }
.index .cover-initial { font-size: 1.2rem !important; }
.index .card-title { grid-area: title; padding: 0 !important; font-weight: 600; }
.index .card-excerpt { grid-area: excerpt; padding: 0 !important; margin-top: 0.125rem; }
.index .card-meta { grid-area: meta; padding: 0 !important; margin-top: 0.375rem !important; border-top: none !important; gap: 0.375rem !important; }
.index .tags { grid-area: tags; padding: 0 !important; gap: 0.375rem !important; }

@media (max-width: 40rem) {
  .index a {
    grid-template-columns: 4rem 1fr;
  }
  .index .card-cover-wrap { width: 4rem !important; height: auto !important; aspect-ratio: 10 / 16 !important; align-self: center; }
}

/* Blockquote: GitHub style */
blockquote { border-left: 0.25rem solid var(--border) !important; background: transparent !important; font-style: normal !important; }

/* Code and pre */
code { background-color: var(--code-bg) !important; color: var(--code-text) !important; font-size: .9em !important; }
pre { background-color: var(--code-bg) !important; color: var(--code-text) !important; border: 0.0625rem solid var(--border) !important; box-shadow: none !important; border-radius: 0.375rem !important; }

/* Tables */
.table-wrap table { border-color: var(--border) !important; }
table { border-color: var(--border) !important; }
table th { background-color: color-mix(in srgb, var(--text) 4%, transparent) !important; }
table tr:nth-child(odd) { background-color: transparent !important; }
table tr:nth-child(even) { background-color: color-mix(in srgb, var(--text) 2%, transparent) !important; }
table tr:hover { background-color: color-mix(in srgb, var(--text) 6%, transparent) !important; }

/* Pagination: simpler */
.pagination a, .pagination span { border-radius: 0.375rem !important; box-shadow: none !important; }
.pagination .active { background: color-mix(in srgb, var(--primary) 16%, transparent) !important; color: var(--text) !important; }

/* TOC */
#tocview .toc-header { color: var(--muted) !important; }
#tocview .toc-header .toc-top { background: var(--card) !important; border-color: var(--border) !important; }

/* Headings anchors */
h1 .anchor, h2 .anchor, h3 .anchor, h4 .anchor, h5 .anchor, h6 .anchor { color: var(--muted) !important; }

/* Sidebar card tweaks */
.site-card .site-title { font-size: 1.15rem !important; }
.site-card .site-subtitle { font-size: .95rem !important; }

/* Typography: GitHub-like stack and spacing */
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji" !important; }
#mainview { font-size: 1rem !important; line-height: 1.7 !important; }
#mainview h1 { font-size: 2rem !important; margin: 1.5rem 0 1rem !important; padding-bottom: .3em; border-bottom: 0.0625rem solid var(--hr); }
#mainview h2 { font-size: 1.5rem !important; margin: 1.25rem 0 0.75rem !important; padding-bottom: .2em; border-bottom: 0.0625rem solid var(--hr); }
#mainview h3 { font-size: 1.25rem !important; margin: 1rem 0 0.5rem !important; }
#mainview h4, #mainview h5, #mainview h6 { margin: 0.875rem 0 0.375rem !important; }
#mainview p { margin: 0.75rem 0 !important; }
#mainview ul, #mainview ol { margin: 0.75rem 0 0.75rem 1.5em !important; }

/* Links */
a:hover { text-decoration: none !important; }

/* Inline code and code blocks */
code { background-color: var(--code-bg) !important; color: var(--code-text) !important; font-size: .9em !important; border: 0.0625rem solid var(--border) !important; border-radius: 0.375rem !important; padding: .15em .35em !important; font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, "Liberation Mono", monospace !important; }
pre { background-color: var(--code-bg) !important; color: var(--code-text) !important; border: 0.0625rem solid var(--border) !important; box-shadow: none !important; border-radius: 0.375rem !important; font-size: 0.92rem !important; line-height: 1.45 !important; font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, "Liberation Mono", monospace !important; }

/* Search input and buttons */
#searchbox input[type="search"] { background: var(--bg) !important; border-color: var(--border) !important; border-radius: 0.375rem !important; }
#tools .btn { background: var(--bg) !important; border-color: var(--border) !important; border-radius: 0.375rem !important; }
#tools .btn:hover { background: color-mix(in srgb, var(--text) 6%, transparent) !important; }

/* Focus visible ring */
a:focus-visible, button:focus-visible, select:focus-visible, input:focus-visible { outline: 0.125rem solid var(--primary) !important; outline-offset: 0.125rem !important; }

/* Tags as subtle labels */
.index .tag, .tags .tag { background: color-mix(in srgb, var(--primary) 14%, transparent) !important; color: var(--text) !important; border: 0.0625rem solid var(--border) !important; }

/* Notices */
.notice { border-color: var(--border) !important; background: var(--card) !important; }
.notice.error { border-left-color: #cf222e !important; }

/* Horizontal rule */
hr { border-top-color: var(--hr) !important; }

/* Images in content: remove heavy shadows, add subtle border */
#mainview img { box-shadow: none !important; border: 0.0625rem solid var(--border) !important; border-radius: 0.375rem !important; }

/* Index list refinements */
.index .card-title { color: var(--text) !important; }
.index .card-excerpt { color: var(--muted) !important; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.index .card-meta { color: var(--muted) !important; font-size: 0.75rem !important; letter-spacing: .02em; text-transform: none !important; }
.index .card-meta .card-sep { display: inline-block; opacity: .6; }

/* Sidebar: no border and no background */
.sidebar .box { border: none !important; background: transparent !important; box-shadow: none !important; }

/* Sidebar left-aligned content for GitHub theme */
.site-card .avatar { margin: 0 !important; }
.site-card .site-title, .site-card .site-subtitle, .site-card .social-links { text-align: left !important; }
