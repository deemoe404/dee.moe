/* Minimalism theme pack - 极简主义 */
:root {
  /* 极简色彩 - 浅色模式 */
  /* 报纸纸张底色（温暖的米白） */
  --bg: #FAF7F0;
  /* 墨色正文（略暖的深灰） */
  --text: #1f1f1f;
  /* 次要文字（稍浅一些，降低厚重感） */
  --muted: #6b6b6b;
  /* 报刊蓝（标题/链接主色） */
  --primary: #2b4c7e;
  --primary-hover: #1f3b66;
  /* 卡片/块背景与纸面接近，强调以细边界实现 */
  --card: #FBF9F2;
  /* 细描边（发黄纸张的发灰边） */
  --border: #e5decc;
  /* 代码背景带一点纸质偏黄 */
  --code-bg: #f4f1e8;
  --code-text: #2b2b2b;
  /* 分割线使用同款发灰边色 */
  --hr: #e5decc;
  --shadow: none; /* 极简 - 无阴影 */
}

[data-theme="dark"] {
  /* 极简色彩 - 深色模式 */
  /* 偏暖的深色背景，弱化纯黑的刺眼感 */
  --bg: #141414;
  --text: #e8e6e3;
  --muted: #a3a3a3;
  /* 深色模式下的报刊蓝（略浅以保证对比） */
  --primary: #9bb4d0;
  --primary-hover: #c0d0e4;
  --card: #1a1a1a;
  --border: #2a2a2a;
  --code-bg: #0f0f0f;
  --code-text: #e8e6e3;
  --hr: #2a2a2a;
  --shadow: none; /* 极简 - 无阴影 */
}

/* 全局极简样式 */
body {
  line-height: 1.8 !important;
  letter-spacing: 0.01em !important;
  background: var(--bg) !important;
}

/* 完全移除 mapview 的所有装饰！！！ */
#mapview, #mainview {
  background: none !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  margin: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding: 0 !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  border-radius: 0 !important;
  outline: none !important;
}

#searchbox {
    background-color: transparent !important;
    border-color: transparent !important;
}

#searchInput {
    border-radius: 99px !important;
}

/* 完全移除导航栏的所有装饰！！！ */
#tabsNav, .tabs, nav {
  background: none !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border-radius: 0 !important;
  outline: none !important;
}

/* 移除导航项的所有悬停效果！！！ */
.tab, .tab:hover, .tab:focus, .tab:active,
.nav-item, .nav-item:hover, .nav-item:focus, .nav-item:active,
.nav-link, .nav-link:hover, .nav-link:focus, .nav-link:active,
#tabsNav a, #tabsNav a:hover, #tabsNav a:focus, #tabsNav a:active,
.tabs a, .tabs a:hover, .tabs a:focus, .tabs a:active {
  background: none !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border-radius: 0 !important;
  outline: none !important;
  /* allow deactivating effect to be visible */
  /* keep transforms off by default but not when .deactivating is present */
  transform: none !important;
  transition: none !important;
  animation: none !important;
}

/* 完全覆盖 .tab 的悬停阴影效果 */
.tab:hover {
  box-shadow: none !important;
  background: transparent !important;
  background-color: transparent !important;
  transform: none !important;
  transition: none !important;
  border-radius: 0 !important;
}

/* Restore gentle exit motion for deactivating state even in minimal theme */
#tabsNav .tab[data-slug="post"].deactivating, #tabsNav .tab[data-slug="search"].deactivating,
.tabs .tab[data-slug="post"].deactivating, .tabs .tab[data-slug="search"].deactivating {
  transition: transform .2s cubic-bezier(0.16, 1, 0.3, 1) 0s, opacity .14s linear .02s !important;
  transform: scale(1.08) translateY(-0.015625rem) !important;
  opacity: 0 !important;
}

/* Allow entrance animation for activating state */
#tabsNav .tab[data-slug="post"].activating, #tabsNav .tab[data-slug="search"].activating,
.tabs .tab[data-slug="post"].activating, .tabs .tab[data-slug="search"].activating {
  opacity: 0 !important;
  transform: scale(1.08) translateY(-0.015625rem) !important;
}

#tabsNav .tab[data-slug="post"].activating.in, #tabsNav .tab[data-slug="search"].activating.in,
.tabs .tab[data-slug="post"].activating.in, .tabs .tab[data-slug="search"].activating.in {
  opacity: 1 !important;
  transform: none !important;
  transition: transform .2s cubic-bezier(0.16, 1, 0.3, 1) 0s, opacity .14s linear .02s !important;
}

/* 移除 .tabs 容器的悬停效果 */
.tabs:hover {
  box-shadow: none !important;
  transform: none !important;
}

/* 高亮覆膜也要大圆角！！！ */
.tabs .highlight-overlay,
.highlight-overlay {
  border-radius: 99px !important;
}

/* 极简卡片样式 */
.box {
  border-radius: 0 !important;
  box-shadow: none !important;
  border: 1px solid var(--border) !important;
}

/* 极简按钮样式 */
.btn, button {
  border: 1px solid var(--primary) !important;
  border-radius: 0 !important;
  background: transparent !important;
  color: var(--primary) !important;
  font-weight: 400 !important;
  transition: all 0.2s ease !important;
}

.btn:hover, button:hover {
  background: var(--primary) !important;
  color: var(--bg) !important;
}

/* 报纸风格链接：低调但清晰，采用报刊蓝（仅正文区域）*/
#mainview a {
  color: var(--primary) !important;
  text-decoration: none;
}

#mainview a:hover {
  color: var(--primary-hover) !important;
}

/* --- Vertical spacing between mapview and mainview --- */
/* Configurable gap; adjust as needed */
:root { --view-gap: 24px; }

/* Only add space when stacked one after the other */
#mapview + #mainview { margin-top: var(--view-gap, 24px) !important; }
#mainview + #mapview { margin-top: var(--view-gap, 24px) !important; }

/* ---------------------------------------------------- */
/* Newspaper-like typography for content in #mainview   */
/* ---------------------------------------------------- */
/* Font stacks */
:root {
  --serif: Georgia, "Times New Roman", Times, serif;
  --sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  /* 调整展示字族优先级，避免细到发飘的 Didot/Bodoni 优先命中 */
  --display: "Playfair Display", "Libre Baskerville", Georgia, "Times New Roman", Times, serif, "Didot", "Bodoni MT", "Bodoni 72";
}

/* Headings: classic serif, tight leading */
#mainview h1,
#mainview h2,
#mainview h3,
#mainview h4,
#mainview h5,
#mainview h6 {
  font-family: var(--serif);
  color: var(--text);
  letter-spacing: 0.01em;
  line-height: 1.25;
  margin: 1.2em 0 0.5em;
}

#mainview h1 { font-family: var(--display, var(--serif)); font-weight: 700; letter-spacing: 0.005em; }
#mainview h2 { font-weight: 650; border-bottom: 1px solid var(--hr); padding-bottom: 0.25em; }
#mainview h3 { font-weight: 600; }

/* Body text and lists: serif for article feel */
#mainview p,
#mainview li,
#mainview blockquote,
#mainview figcaption {
  font-family: var(--serif);
}

/* Blockquotes: hairline left rule and subtle backdrop */
#mainview blockquote {
  border-left: 3px solid var(--border);
  background: var(--card);
  margin: 1.2em 0;
  padding: 0.6em 1em;
  color: var(--muted);
}
#mainview blockquote > p { font-style: italic; }

/* HR: hairline */
#mainview hr {
  border: 0;
  border-top: 1px solid var(--hr);
  margin: 2em 0;
}

/* Tables: clean, hairline grid */
#mainview table { width: 100%; border-collapse: collapse; }
#mainview th, #mainview td { border: 1px solid var(--border); padding: 0.5em 0.75em; }
#mainview thead th { background: var(--card); font-weight: 600; }

/* Figure captions */
#mainview figcaption { color: var(--muted); font-size: 0.9em; text-align: center; margin-top: 0.5em; }

/* Optional utilities: multi-columns for long-form text */
@media (min-width: 1024px) {
  #mainview .columns-2 { column-count: 2; column-gap: 2rem; }
  #mainview .columns-3 { column-count: 3; column-gap: 2rem; }
}
@media (max-width: 1023.98px) {
  #mainview .columns-2, #mainview .columns-3 { column-count: 1; }
}

/* Optional utility: drop cap on first paragraph inside .dropcap wrapper */
#mainview .dropcap p:first-of-type::first-letter {
  float: left;
  font-family: var(--serif);
  font-size: 3.2em;
  line-height: 0.9;
  padding-right: 0.1em;
  padding-top: 0.05em;
  color: var(--text);
}

/* Homepage index cards: use newspaper typography */
#mainview .index .card-title { 
  font-family: var(--display, var(--serif));
  letter-spacing: 0.002em;
  font-weight: 600; /* 降权重，更接近报纸标题质感 */
}
#mainview .index .card-excerpt { 
  font-family: var(--serif);
  font-size: 0.95rem; /* 略回落字号，减轻视觉厚重 */
  line-height: 1.55;
  color: var(--muted); /* 改回次要色，营造报纸灰度 */
  font-weight: 400;
}

/* Inline link cards inside post content: match homepage typography */
#mainview .link-card .card-title {
  font-family: var(--display, var(--serif));
  letter-spacing: 0.002em;
  font-weight: 600; /* 与首页卡片标题一致 */
}
#mainview .link-card .card-excerpt {
  font-family: var(--serif);
}

/* 卡片元信息：小型大写+中等权重，报纸感更强 */
#mainview .index .card-meta {
  font-size: 0.74rem;
  font-weight: 500;
  font-variant-caps: small-caps;
  letter-spacing: 0.04em;
  color: var(--muted);
}

.index a {
  border-radius: 1rem;
}

/* 内容区采用灰度抗锯齿，边缘更细腻，降低“粗”感 */
#mainview { -webkit-font-smoothing: antialiased; }

/* ---------------------------------------------------- */
/* Minimalism: Tag Sidebar + Tooltip                    */
/* ---------------------------------------------------- */
/* Keep compact, flat, and paper-like in this theme */
#tagview .section-title { font-weight:700; font-size:.92rem; color: var(--muted); margin-bottom:0.5rem; letter-spacing:.02em; }
#tagview .tagbox { display: block; }
#tagview .tag-list { list-style: none; padding: 0; margin: 0; }
#tagview .tag-list.compact { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 0.375rem; transition: max-height .24s ease; max-height: 25rem; overflow: visible; }
#tagview .tag-list.compact.is-collapsed { max-height: 9.5rem; overflow: hidden; position: relative; }
#tagview .tag-list.compact::after { content: ''; position: absolute; left: 0; right: 0; bottom: 0; height: 1.75rem; pointer-events: none; background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, var(--card) 80%); opacity: 0; transition: opacity .25s ease; }
#tagview .tag-list.compact.is-collapsed::after { opacity: 1; }

#tagview .tag-link { display:flex; align-items:center; justify-content:space-between; gap:0.5rem; padding:0.35rem 0.6rem; border:0.0625rem solid var(--border); border-radius:0.25rem; background: var(--card); color: var(--text); text-decoration:none; transition: background-color .15s ease, border-color .15s ease, color .15s ease; width:100%; min-width:0; box-shadow: none !important; }
#tagview .tag-link:hover { background: color-mix(in srgb, var(--text) 4%, var(--card)); border-color: color-mix(in srgb, var(--primary) 28%, var(--border)); color: var(--primary); }
#tagview .tag-link.active { background: color-mix(in srgb, var(--primary) 12%, transparent); border-color: color-mix(in srgb, var(--primary) 40%, var(--border)); color: var(--primary); font-weight: 600; }
#tagview .tag-name { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; flex:1 1 auto; min-width:0; }
#tagview .tag-count { font-size: .8rem; color: var(--muted); background: color-mix(in srgb, var(--text) 6%, transparent); padding:.05rem .4rem; border-radius: 999px; min-width: 1.5rem; text-align:center; }
#tagview .tag-toggle { margin-top: 0.5rem; width: 100%; padding: .4rem .6rem; border-radius: 0.25rem; border: 0.0625rem solid var(--border); background: var(--card); color: var(--text); cursor: pointer; box-shadow: none !important; }
#tagview .tag-toggle:hover { background: color-mix(in srgb, var(--text) 4%, var(--card)); border-color: color-mix(in srgb, var(--primary) 28%, var(--border)); color: var(--primary); }

/* When expanded, add a bit more breathing room above the toggle */
#tagview .tag-list.compact:not(.is-collapsed) + .tag-toggle { margin-top: 1rem; }

/* Minimal Tag Tooltip (flat, no heavy shadow) */
.tag-tooltip {
  position: fixed;
  z-index: 1000;
  background: var(--card);
  border: 0.0625rem solid var(--border);
  border-radius: 0.25rem !important;
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  color: var(--text);
  box-shadow: none !important;
  pointer-events: none;
  opacity: 0;
  transform: translateY(-0.25rem);
  transition: opacity 0.2s ease, transform 0.2s ease;
  white-space: nowrap;
  max-width: 20rem;
  word-break: break-all;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.tag-tooltip.show { opacity: 1; transform: translateY(0); }

.tag-tooltip::before {
  content: '';
  position: absolute;
  bottom: -0.3125rem;
  left: 50%;
  transform: translateX(-50%);
  width: 0; height: 0;
  border-left: 0.3125rem solid transparent;
  border-right: 0.3125rem solid transparent;
  border-top: 0.3125rem solid var(--border);
}

.tag-tooltip::after {
  content: '';
  position: absolute;
  bottom: -0.25rem;
  left: 50%;
  transform: translateX(-50%);
  width: 0; height: 0;
  border-left: 0.25rem solid transparent;
  border-right: 0.25rem solid transparent;
  border-top: 0.25rem solid var(--card);
}

.tag-tooltip.below::before {
  top: -0.3125rem; bottom: auto;
  border-top: none; border-bottom: 0.3125rem solid var(--border);
}

.tag-tooltip.below::after {
  top: -0.25rem; bottom: auto;
  border-top: none; border-bottom: 0.25rem solid var(--card);
}


/* ------------------------------------------- */
/* Code blocks                                 */
/* 去掉代码块内 <code> 文字的额外背景和内边距 */
/* 仅影响在 <pre> 中的 <code>，不改变行内 <code> */
pre code,
#mainview pre code {
  background: transparent !important;
  background-color: transparent !important;
  padding: 0 !important;
  border: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

