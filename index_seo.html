<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Generator - NanoSite</title>
    <style>
        :root {
            --code-bg: #f6f8fa;
            --code-text: #24292f;
            --border: #d0d7de;
            --primary: #0969da;
            --shadow: none;
            /* Chip system */
            --chip-bg: #f6f8fa;
            --chip-text: #24292f;
            --chip-border: #e6e8eb;
            --chip-bg-hover: #eef2f7;
            --chip-focus: #0969da33;
            /* Accents for contextual chips (used via structural selectors) */
            --chip-ac-1: #e7f0ff; /* blue */
            --chip-ac-2: #e8f5e9; /* green */
            --chip-ac-3: #fff5e6; /* orange */
            --chip-ac-4: #f3e8ff; /* purple */
            --chip-ac-5: #ffe8ef; /* pink/red */
            --chip-ac-6: #e6fbff; /* cyan */
            /* Card backgrounds */
            --card-bg-1: #fbfdff; /* ultra subtle */
            --card-bg-2: #f9fbff; /* slightly stronger alt */
            --card-border: #d9e2ec;
        }
        .page-titlebar { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
        .global-status { display:flex; align-items:center; gap:.45rem; color:#57606a; font-size:.92rem; }
        .global-status .dot { width:8px; height:8px; border-radius:50%; background:#8c959f; display:inline-block; }
        .global-status.ok .dot { background:#1f883d; }
        .global-status.warn .dot { background:#f59e0b; }
        .global-status.err .dot { background:#dc2626; }
        .global-status a { color:#0969da; text-decoration:none; }
        .global-status a:hover { text-decoration:underline; }
        /* Bottom breathing room */
        body { padding-bottom: clamp(24px, 6vh, 96px); }
        *, *::before, *::after { box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif; 
            max-width: 62.5rem; 
            margin: 0 auto; 
            padding: 1.25rem;
            line-height: 1.6;
            color: #24292f; /* Base text contrast */
        }
        .container { 
            background: #ffffff; 
            border: 1px solid #e6e8eb;
            border-radius: 10px; 
            padding: 1rem; 
            margin-bottom: 1.25rem;
        }
        .tabs {
            display: flex;
            border-bottom: 0.125rem solid #e9ecef;
            margin-bottom: 1.25rem;
            position: sticky;
            top: 0; /* stick to top */
            z-index: 200; /* above content cards */
            background: #fff; /* prevent bleed-through */
            /* iOS safe area */
            padding-top: env(safe-area-inset-top, 0);
            gap: .1rem .25rem;
        }
        .tabs .tab-item { position: relative; display: inline-flex; align-items: center; }
        .tab {
            padding: 0.625rem 1.25rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            border-bottom: 0.125rem solid transparent;
        }
        .tab.has-help { padding-right: 2.9rem; }
        .tab.active {
            border-bottom-color: #007acc;
            color: #007acc;
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .btn-primary { 
            background: #0969da; 
            color: #fff; 
            border: 1px solid rgba(27,31,36,0.15); 
            padding: 0.5rem 0.9rem; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 0.95rem;
            height: 2.25rem;
        }
        .btn-primary:hover { background: #0757b7; }
        .btn-secondary {
            background: #fff;
            color: #24292f;
            border: 1px solid #d0d7de;
            padding: 0.45rem 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.93rem;
            height: 2.25rem;
        }
        .btn-secondary:hover { background: #f6f8fa; }
        .btn-tertiary { 
            background: transparent; 
            color: #374151; 
            border: 1px dashed #cbd5e1; 
            padding: 0.45rem 0.8rem; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 0.9rem;
            height: 2.25rem;
        }
        .btn-tertiary:hover { background: #f6f8fa; color: #111827; }
        /* Stronger, consistent focus outline */
        .btn-primary:focus-visible,
        .btn-secondary:focus-visible,
        .btn-tertiary:focus-visible,
        .tab:focus-visible,
        .vt-btn:focus-visible {
            outline: 2px solid #0969da;
            outline-offset: 2px;
            border-radius: 8px;
        }
        textarea { 
            display: block;
            width: 100%; 
            max-width: 100%;
            height: 24rem; 
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; 
            font-size: 0.8125rem;
            border: 1px solid #d0d7de;
            border-radius: 8px;
            padding: 0.75rem;
            background: #fff;
            resize: vertical;
            overflow: auto;
        }
        .output-group {
            margin-bottom: 1.25rem;
            background: transparent;
            border: 0;
            padding: 0;
        }
        /* Code editor styling (line numbers + highlight) */
        .hi-editor pre.hi-pre { background-color: transparent; color: var(--code-text); padding: 1rem 1rem 1rem 0.5rem; overflow: hidden; border: 0; border-radius: 8px; line-height: 20px; font-size: 12px; tab-size: 4; position: relative; margin: 0; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Ubuntu Mono", monospace; font-weight: 400; font-variant-ligatures: none; letter-spacing: 0; }
        .hi-editor .code-scroll { display: flex; align-items: stretch; border: 1px solid var(--border); border-radius: 8px; background: var(--code-bg); overflow-x: auto; overflow-y: hidden; position: relative; }
        .hi-editor .code-scroll .code-gutter { 
            flex: 0 0 auto; 
            text-align: right; 
            padding: 1rem 0.5rem; 
            user-select: none; 
            color: rgba(36,41,47,.6); 
            border-right: 1px solid rgba(36,41,47,.12); 
            margin-right: 0; 
            background: var(--code-bg);
            position: sticky; 
            left: 0; 
            z-index: 1; 
            /* Ensure gutter uses identical metrics as code */
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Ubuntu Mono", monospace; 
            font-size: 12px; 
            line-height: 20px;
            font-weight: 400;
            font-variant-ligatures: none;
            font-variant-numeric: tabular-nums;
            letter-spacing: 0;
        }
        .hi-editor .code-scroll .code-gutter span { 
            display: block; 
            line-height: inherit; 
            font-variant-numeric: tabular-nums; 
        }
        .hi-editor { position: relative; }
        .hi-editor .hi-body { position: relative; flex: 1 1 auto; overflow: visible; }
        .hi-editor .hi-pre { position: absolute; inset: 0; margin: 0; white-space: pre; overflow: visible; pointer-events: none; }
        .hi-editor .hi-pre code { white-space: inherit; display: inline-block; min-width: 100%; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Ubuntu Mono", monospace; font-size: 12px; line-height: 20px; font-weight: 400; font-variant-ligatures: none; font-variant-numeric: tabular-nums; letter-spacing: 0; }
        .hi-editor .hi-ta { position: absolute; inset: 0; border: 0; outline: none; resize: none; background: transparent; color: transparent; caret-color: var(--code-text); padding: 1rem 1rem 1rem 0.5rem; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Ubuntu Mono", monospace; font-size: 12px; line-height: 20px; white-space: pre; overflow: hidden; overscroll-behavior: none; tab-size: 4; font-weight: 400; font-variant-ligatures: none; font-variant-numeric: tabular-nums; letter-spacing: 0; }
        /* Active line highlight */
        .hi-editor .hi-hl-layer { position: absolute; inset: 0; z-index: 0; }
        .hi-editor .hi-hl-line { position: absolute; left: 0; right: 0; background: rgba(9,105,218,0.08); border-radius: 2px; box-shadow: inset 0 0 0 1px rgba(9,105,218,0.35); }
        .hi-editor .code-scroll .code-gutter span.is-active { background: transparent; color: #0f172a; font-weight: 600; }
        .hi-editor .syntax-language-label { position: absolute; top: .5rem; right: .75rem; background: rgba(0,0,0,.6); color: rgba(255,255,255,.9); padding: .25rem .5rem; border-radius: .25rem; font-size: .75rem; font-weight: 500; opacity: .8; border: 1px solid rgba(255,255,255,.1); cursor: pointer; user-select: none; line-height: 1; }
        .syntax-keyword { color: #d73a49; font-weight: 600; }
        .syntax-string { color: #22863a; }
        .syntax-number { color: #005cc5; }
        /* Slightly lighter comment for better contrast in robots.txt and others */
        .syntax-comment { color: #8c959f; font-style: italic; opacity: 0.95; }
        .syntax-operator { color: #d73a49; }
        .syntax-punctuation { color: #586069; }
        .syntax-tag { color: #22863a; font-weight: 600; }
        .syntax-property { color: #005cc5; }
        .syntax-selector { color: #6f42c1; font-weight: 600; }
        .syntax-preprocessor { color: #e36209; font-weight: 600; }
        .syntax-variables { color: #e36209; }
        .syntax-language-label { position: absolute; top: .5rem; right: .75rem; background: rgba(0,0,0,.6); color: rgba(255,255,255,.9); padding: .25rem .5rem; border-radius: .25rem; font-size: .75rem; font-weight: 500; opacity: .8; border: 1px solid rgba(255,255,255,.1); cursor: pointer; user-select: none; line-height: 1; }
        .syntax-language-label.is-hover { opacity: 1; }
        .syntax-language-label.is-copied { opacity: 1; background: #16a34a; color: #fff; border-color: rgba(0,0,0,0.1); }
        /* Ensure visible colors inside custom editor */
        .hi-editor .syntax-keyword { color: #cf222e !important; font-weight: 700; }
        .hi-editor .syntax-comment { color: #8c959f !important; opacity: 0.95; }
        .hi-editor .syntax-string { color: #1a7f37 !important; }
        .hi-editor .syntax-number { color: #0550ae !important; }
        .output-group h3 {
            margin: 0 0 0.5rem 0;
            color: #24292f;
            font-weight: 600;
            font-size: 0.95rem;
        }
        .success, .error, .warning {
            display: inline-flex;
            align-items: center;
            gap: .4rem;
            height: 1.875rem; /* 30px */
            padding: 0 .5rem;
            border-radius: 999px;
            border: 1px solid currentColor;
            font-weight: 600;
            font-size: .82rem;
            line-height: 1;
        }
        .success { color: #1f883d; background: #e8f5e9; border-color: #1f883d; }
        .error { color: #dc2626; background: #fde8e8; border-color: #dc2626; }
        .warning { color: #b45309; background: #fff7ed; border-color: #f59e0b; }
        .config-preview {
            background: white;
            border: 0;
            border-radius: 0.25rem;
            padding: 0;
            margin-bottom: 1.25rem;
        }
        .config-preview h3 {
            margin-top: 0;
            color: #495057;
        }
        /* Non-collapsible config groups */
        .config-preview .config-group {
          border: 1px solid var(--card-border);
          border-radius: 12px;
          background: var(--card-bg-1);
          box-shadow: 0 1px 2px rgba(27,31,36,.06), inset 0 1px 0 rgba(255,255,255,.75);
          overflow: hidden;
        }
        /* Alternate tint to better separate sections */
        .config-preview .config-group:nth-of-type(2n) { background: var(--card-bg-2); }
        .config-preview .config-group + .config-group { margin-top: 1.25rem; }
        .config-preview .config-group-title {
          display: flex; align-items: center; gap: .5rem; padding: .65rem .9rem;
          color: #111827; font-weight: 700; letter-spacing: .2px;
          background: linear-gradient(180deg, rgba(255,255,255,.75) 0%, rgba(246,248,250,.9) 100%);
          border-bottom: 1px solid #cbd5e1;
        }
        .config-preview .section-body { padding: .3rem .9rem .9rem; }
        .config-preview .section-body .config-item { background: transparent; }
        /* Items layout */
        .config-preview .config-item { display: grid; grid-template-columns: 14rem 1fr; gap: .5rem; padding: .35rem .25rem; border-bottom: 1px solid #d0d7de; }
        /* Ensure value column contents size to content, not stretch */
        .config-preview .config-item > :nth-child(2) { justify-self: start; align-self: start; }
        .config-preview .config-value { display: inline-flex; gap: .35rem; flex-wrap: wrap; align-items: center; color: #1f2937; }
        .config-preview .config-item:last-child { border-bottom: 0; }
        .config-preview .config-label { color: #374151; font-weight: 600; min-width: 14rem; position: relative; display: inline-flex; flex-direction: column; gap: .2rem; }
        .config-preview .config-label-text { line-height: 1.2; }
        .config-preview .config-label-hint { line-height: 1; }
        .config-preview .mini-badge { display: inline-flex; align-items:center; height: 1.25rem; padding: 0 .5rem; border-radius: 999px; font-size: .72rem; font-weight: 600; background: #eef2f7; color: #444e57; border: 1px solid #d0d7de; line-height: 1; }
        /* Nicer native-ish tooltip via title attr hint */
        .config-preview .config-label[title] { text-decoration: underline dotted rgba(87,96,106,.5); text-underline-offset: 2px; cursor: help; }
        .config-preview .config-item em { color: #8c959f; }
        /* Link lists */
        .config-preview .config-list { margin: .2rem 0 .35rem 0; padding-left: 1.25rem; }
        .config-preview .config-list li { margin: .6rem 0; }
        .config-preview .config-list > li { margin: .9rem 0; }
        .config-preview .item-head.topline { display:flex; align-items:center; gap:.5rem; }
        .config-preview .config-list a { color: #0757b7; text-decoration: none; }
        .config-preview .config-list a:hover { text-decoration: underline; }
        .config-preview .dim { color: #4b5563; }
        /* Chips / bubbles */
        .config-preview .chips { display: flex; flex-wrap: wrap; gap: .4rem; }
        .config-preview .chip {
          display: inline-flex;
          align-items: center;
          height: 1.55rem;
          padding: 0 .6rem;
          border-radius: 999px;
          background: var(--chip-bg);
          color: var(--chip-text);
          border: 1px solid var(--chip-border);
          font-size: .78rem;
          font-weight: 600;
          letter-spacing: .1px;
          line-height: 1;
          user-select: none;
        }
        .config-preview .chip a { color: inherit; text-decoration: none; }
        .config-preview .chip:hover { background: var(--chip-bg-hover); }
        .config-preview .chip a:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 999px; }
        .config-preview .chip.is-lang a { display:inline-flex; align-items:center; gap:.25rem; }
        .config-preview .chip.is-lang a:focus-visible { border-radius: 6px; }
        /* Contextual: the "latest" status chip in post version headers */
        .config-preview .item-head .chip { background: var(--chip-ac-2); color: #1f883d; border-color: #1f883d; }
        /* Contextual: tag chips that follow a dim "Tags:" label inside Posts */
        .config-preview .config-value .dim + .chip { background: var(--chip-ac-1); }
        .config-preview .config-value .dim + .chip + .chip { background: var(--chip-ac-2); }
        .config-preview .config-value .dim + .chip + .chip + .chip { background: var(--chip-ac-3); }
        .config-preview .config-value .dim + .chip + .chip + .chip + .chip { background: var(--chip-ac-4); }
        .config-preview .config-value .dim + .chip + .chip + .chip + .chip + .chip { background: var(--chip-ac-5); }
        .config-preview .config-value .dim + .chip + .chip + .chip + .chip + .chip + .chip { background: var(--chip-ac-6); }
        /* Contextual: language chips in Tabs summary (contain links) */
        .config-preview .config-value .dim + .chip a { display: inline-flex; align-items: center; }
        /* Better alignment for version heads + language rows */
        .config-preview .config-list .item-head { display:flex; align-items:center; gap:.5rem; }
        /* Align title + language chip vertically for better balance */
        .config-preview .lang-row { display:flex; align-items: center; gap:.35rem; }
        /* Inline code inside preview (locations, URLs) */
        .config-preview code { background: #f6f8fa; border: 1px solid #e6e8eb; border-radius: 6px; padding: .05rem .35rem; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Ubuntu Mono", monospace; font-size: .78em; }
        /* De-emphasize date and tags in Posts */
        .config-preview .mini-badge.is-date { color: #6b7280; background: #f3f4f6; border-color: #e5e7eb; }
        .config-preview .mini-badge.is-words { color: #6b7280; background: #f3f4f6; border-color: #e5e7eb; }
        .config-preview .tags-label { color: #6b7280; }
        .config-preview .chip.is-tag { color: #6b7280; }
        /* Emphasize post title and place language as a chip */
        .config-preview .post-title { color: #111827; font-weight: 700; }
        /* Language chip: compact, clickable, with hover arrow */
        .config-preview .chip.is-lang { 
          background: var(--chip-bg);
          color: var(--chip-text);
          border: 1px solid var(--chip-border);
          padding: 0 .5rem;
          border-radius: 999px;
          font-weight: 600;
          font-size: .78rem;
          height: 1.45rem;
        }
        .config-preview .chip.is-lang:hover { background: var(--chip-bg-hover); }
        .config-preview .chip.is-lang a { display:inline-flex; align-items:center; gap:.25rem; color: inherit; text-decoration: none; }
        /* Keep language code text not overly shrunken inside chip */
        .config-preview .chip.is-lang code { font-size: 1em; background: transparent; border: 0; padding: 0; }
        /* Subtle arrow, stronger on hover/focus */
        .config-preview .chip.is-lang .go { opacity: .55; transition: opacity .12s ease; line-height: 1; transform: translateY(-0.5px); }
        .config-preview .chip.is-lang:hover .go, .config-preview .chip.is-lang a:focus-visible .go { opacity: 1; }
        .config-preview .chip-sep { display:inline-block; margin: 0 .25rem; color: #6b7280; }
        /* Avatar preview */
        .config-preview .config-avatar { width: 48px; height: 48px; border-radius: 6px; object-fit: cover; vertical-align: middle; margin-right: .5rem; border: 1px solid #e6e8eb; background: #f6f8fa; }
        .config-preview .config-avatar-block { display: inline-flex; flex-direction: column; align-items: flex-start; gap: .35rem; }
        .config-preview .config-avatar-path code { background: #f6f8fa; border: 1px solid #e6e8eb; padding: .1rem .35rem; border-radius: 6px; }
        /* Boolean badges */
        .config-preview .bool { display: inline-flex; align-items:center; height: 1.25rem; padding: 0 .5rem; border-radius: 999px; font-weight: 600; font-size: .75rem; border: 1px solid; }
        .config-preview .bool-true { background: #e8f5e9; color: #1f883d; border-color: #1f883d; }
        .config-preview .bool-false { background: #fde8e8; color: #dc2626; border-color: #dc2626; }
        /* Badges in preview */
        .config-preview .badge { border: 0; font-weight: 600; padding: .16rem .5rem; border-radius: 999px; font-size: .72rem; }
        .config-preview .badge.warn { background: #fff7ed; color: #b45309; }
        .config-preview .badge.ok { background: #e8f5e9; color: #1f883d; }
        .config-preview .badge.err { background: #fde8e8; color: #dc2626; }
        /* Header row inside preview */
        .config-preview .config-header { display: flex; align-items: center; justify-content: space-between; padding: .25rem 0 .5rem; border-bottom: 0; margin-bottom: .75rem; }
        .config-preview .config-header h3 { margin: 0; color: #24292f; font-weight: 700; }
        .config-preview .config-header-left { display:flex; align-items:center; gap:.5rem; }
        .config-preview .config-src-link { margin-left: .5rem; color: #0969da; text-decoration: none; font-weight: 500; }
        .config-preview .config-src-link:hover { text-decoration: underline; }
        /* Two-pane layout */
        .config-preview .config-split { display: grid; grid-template-columns: 15rem 1fr; gap: 1rem; }
        .config-preview .config-cats { display: flex; flex-direction: column; gap: .25rem; align-self: start; padding: .25rem .75rem .25rem 0; border-right: 1px solid #d0d7de; border-radius: 0; background: transparent; }
        .config-preview .cat-item { text-align: left; background: transparent; border: 0; color:#24292f; border-radius: 6px; padding: .45rem .6rem; cursor: pointer; font-size: .92rem; display: flex; align-items: center; gap: .45rem; }
        .config-preview .cat-icon { width: 1.1rem; text-align: center; opacity: .9; }
        .config-preview .cat-item:hover { background: #eaeef2; }
        .config-preview .cat-item.active { background: #ddf4ff; color: #0969da; font-weight: 600; box-shadow: inset 2px 0 0 #0969da; }
        .config-preview .config-pane { min-height: 10rem; border: 0; border-radius: 0; background: transparent; overflow: visible; }
        .config-preview .pane-title { display:flex; align-items:center; justify-content:space-between; gap:.5rem; padding: .4rem 0 .6rem; font-weight: 600; color: #24292f; border-bottom: 0; background: transparent; }
        .config-preview .pane-title-left { display:flex; align-items:center; gap:.45rem; }
        .config-preview .pane-icon { width: 1.1rem; text-align:center; }
        .config-preview .pane-top-link { color:#0969da; text-decoration: none; font-weight: 500; font-size: .9rem; }
        .config-preview .pane-top-link:hover { text-decoration: underline; }
        @media (max-width: 880px) {
          .config-preview .config-split { grid-template-columns: 1fr; }
          .config-preview .config-cats { flex-direction: row; overflow-x: auto; white-space: nowrap; border-radius: 8px; border-right: 0; padding: .25rem 0; }
          .config-preview .cat-item { flex: 0 0 auto; }
        }
        @media (max-width: 880px) {
          .config-preview .config-item { grid-template-columns: 1fr; }
          .config-preview .config-label { min-width: 0; }
        }
        .config-header { display:flex; align-items:center; gap:.25rem; flex-wrap:wrap; }
        .config-header h3 { margin: 0; line-height: 1.875rem; }
        .config-item {
            margin-bottom: 0.5rem;
            font-family: monospace;
            font-size: 0.875rem;
        }
        .config-label {
            font-weight: 600;
            color: #6c757d;
            min-width: 7.5rem;
            display: inline-block;
        }
        .instructions {
            background: #e3f2fd;
            border-left: 0.25rem solid #2196f3;
            padding: 0.9375rem;
            margin-bottom: 1.25rem;
        }
        .instructions h4 {
            margin-top: 0;
            color: #1976d2;
        }
        .file-actions {
            display: flex;
            gap: 0.625rem;
            margin-bottom: 0.9375rem;
            flex-wrap: wrap;
        }
        /* New toolbar layout for tab sections */
        .toolbar { display:flex; align-items:center; justify-content:space-between; gap:.75rem; flex-wrap:wrap; margin-bottom:.75rem; padding-bottom:.5rem; border-bottom:1px solid #d0d7de; }
        .left-actions, .right-actions { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
        .btn-compact { padding: 0.4rem 0.8rem; height: 2.25rem; }
        .btn-secondary.btn-compact { padding:0.4rem 0.9rem; }
        .info-btn { margin-left: .25rem; }
        /* View toggle */
        .view-toggle { display:inline-flex; align-items:center; gap:.35rem; font-size:.92rem; color:#57606a; }
        .view-toggle .vt-label { color:#6e7781; font-weight:500; margin-right:.25rem; }
        .view-toggle .vt-btn { color:#0969da; text-decoration:none; padding:.1rem .25rem; border-radius:6px; }
        .view-toggle .vt-btn:hover { text-decoration:underline; }
        .view-toggle .vt-btn.active { background:#eaeef2; color:#24292f; text-decoration:none; cursor:default; }
        /* Composite tab help icon inside button */
        .tabs .tab-help { position: absolute; right: .6rem; top: 50%; transform: translateY(-50%); z-index: 1; }
        /* Tighter alignment when help buttons are in the tab bar */
        .tabs .info-btn { align-self: center; margin-right: .4rem; }
        .toolbar .divider { width:1px; height:2rem; background:#e6e8eb; }
        .toolbar .toolbar-more { display:none; }
        #sitemap-status, #robots-status, #meta-status, #config-status { min-height: 0; margin: 0; }
        /* Inline status + action */
        .status-inline { display: inline-flex; align-items: center; gap: 6px; }
        .icon-btn { width: 1.875rem; height: 1.875rem; display:inline-flex; align-items:center; justify-content:center; border:1px solid #d0d7de; border-radius:50%; background:#fff; color:#57606a; cursor:pointer; padding:0; line-height: 0; }
        .icon-btn:hover { background:#f6f8fa; color:#24292f; }
        .icon-btn:focus { outline:none; box-shadow:0 0 0 3px rgba(9,105,218,.3); border-color:#0969da; }
        .icon-btn svg { display:block; width:16px; height:16px; transform: translateY(0.5px); }
        /* Output polish */
        .output-group textarea { margin-top: .25rem; border-color:#d0d7de; }
        /* Toasts (overlay, no layout shift) */
        .toast-container { position: fixed; top: 16px; right: 16px; display: flex; flex-direction: column; gap: 8px; z-index: 1100; }
        .toast { display:flex; align-items:center; gap:.5rem; padding:.55rem .75rem; border-radius:8px; box-shadow: 0 8px 24px rgba(140,149,159,.28), 0 1px 0 rgba(27,31,36,.06); border:1px solid #d0d7de; background:#fff; color:#24292f; font-size:.92rem; }
        .toast.ok { border-color:#1f883d; }
        .toast.err { border-color:#dc2626; }
        .toast.warn { border-color:#f59e0b; }
        
        @media (max-width: 640px) {
            .toolbar { gap:.5rem; }
            .left-actions, .right-actions { gap:.4rem; }
            textarea { height: 16rem; }
        }
        /* Collapse extra toolbar actions on narrow screens */
        @media (max-width: 880px) {
            .toolbar .toolbar-more { display: inline-flex; }
            /* Hide extras by default on narrow */
            .toolbar .is-extra { display: none !important; }
            .toolbar .divider { display: none !important; }
            /* When expanded, force show */
            .toolbar.expanded .is-extra { display: inline-flex !important; }
            .toolbar.expanded .divider { display: block !important; }
        }
        /* GitHub controls: compact, cleaner */
        .gh-controls { display:flex; align-items:center; gap:0.5rem; flex-wrap:wrap; }
        .gh-field { display:flex; align-items:center; border:1px solid #d0d7de; background:#fff; border-radius:6px; overflow:hidden; height: 2.1rem; box-shadow: 0 1px 0 rgba(27,31,36,.04), inset 0 1px 0 rgba(255,255,255,.5); }
        .gh-prefix { height:100%; display:flex; align-items:center; padding:0 0.5rem; color:#57606a; background:#f6f8fa; border-right:1px solid #d0d7de; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace; }
        .gh-input { border:0; outline:none; padding:0 0.5rem; min-width:16rem; flex:1 1 auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace; height:100%; }
        .gh-field.error { border-color:#ef4444; background:#fff7f7; }
        .gh-field.valid { border-color:#1f883d; }
        .gh-select { border:1px solid #d0d7de; background:#fff; border-radius:6px; padding:0.35rem 2rem 0.35rem 0.6rem; min-width:12rem; height:2.1rem; outline:none; transition: border-color .15s ease, box-shadow .15s ease; -webkit-appearance:none; appearance:none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 20 20'%3E%3Cpath fill='%2357606a' d='M5.516 7.548a.75.75 0 0 1 1.06 0L10 10.97l3.424-3.424a.75.75 0 1 1 1.06 1.06l-3.954 3.955a.75.75 0 0 1-1.06 0L5.516 8.608a.75.75 0 0 1 0-1.06Z'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position: right .5rem center; box-shadow: 0 1px 0 rgba(27,31,36,.04), inset 0 1px 0 rgba(255,255,255,.5); }
        .gh-select:focus { border-color:#0969da; box-shadow:0 0 0 3px rgba(9,105,218,.3); }
        .gh-select:disabled { background:#f6f8fa; color:#8c959f; }
        .btn-gh { background:#1f883d; color:#fff; border:1px solid rgba(27,31,36,0.15); border-radius:8px; padding:0.4rem 0.85rem; height:2.25rem; cursor:pointer; box-shadow: 0 1px 0 rgba(27,31,36,.1); }
        .btn-gh:hover { background:#1a7f37; }
        .btn-gh:active { background:#187432; }
        .btn-gh:disabled { background:#94d3a2; cursor:not-allowed; }
        .gh-inline-action { height:100%; padding:0 .55rem; border:0; border-left:1px solid #d0d7de; background:transparent; color:#0969da; cursor:pointer; }
        .gh-inline-action:hover { background:#f6f8fa; color:#054da7; }
        .btn-link { background:transparent; border:none; color:#0969da; cursor:pointer; padding:0 .25rem; height:2.1rem; text-decoration:underline; }
        .btn-link:hover { color:#054da7; text-decoration:underline; }
        .gh-status { display:flex; gap:0.5rem; align-items:center; min-height:1.2rem; margin-top:0.5rem; }
        .badge { display:inline-flex; align-items:center; gap:0.4rem; padding:0.12rem 0.5rem; border-radius:999px; font-size:0.75rem; line-height:1; }
        .badge.ok { background:#e8f5e9; color:#16a34a; }
        .badge.err { background:#fde8e8; color:#dc2626; }
        .badge.warn { background:#fff7ed; color:#f59e0b; }
        .spinner { width:12px; height:12px; border:2px solid #c9d1d9; border-top-color:#0969da; border-radius:50%; display:inline-block; animation: spin .8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        /* Title + fullscreen help modal */
        .gh-titlebar { display:flex; align-items:center; gap:0.25rem; position: relative; margin-bottom: 0.75rem; }
        .gh-titlebar h3 { margin:0; color:#24292f; font-weight:700; line-height: 1.875rem; }
        .section-divider { border-top:1px solid #d0d7de; margin: .9rem 0 .75rem; }
        .info-btn { width:22px; height:22px; display:inline-flex; align-items:center; justify-content:center; border:1px solid #d0d7de; border-radius:50%; background:#fff; color:#57606a; cursor:pointer; padding:0; font-weight:600; font-size:12px; line-height:1; box-shadow: 0 1px 0 rgba(27,31,36,.04); }
        .info-btn:hover { background:#f6f8fa; }
        .info-btn:focus { outline:none; box-shadow:0 0 0 3px rgba(9,105,218,.3); border-color:#0969da; }
        /* removed small tab popover in favor of fullscreen modal */
        /* Avoid forcing fixed height on html/body to not break sticky elements */
        html, body { min-height: 100%; }
        @supports (-webkit-touch-callout: none) {
            html, body { min-height: -webkit-fill-available; }
        }
        .gh-overlay { position: fixed; top:0; left:0; right:0; bottom:0; width:100vw; height:100vh; min-height: var(--vvh, 100vh); background: rgba(27,31,36,.38); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); display:none; z-index: 1000; padding: clamp(12px, 4vw, 24px); overflow: auto; overscroll-behavior: contain; }
        @supports (height: 100dvh) { .gh-overlay { height: 100dvh; } }
        @supports (height: 100lvh) { .gh-overlay { height: 100lvh; } }
        .gh-overlay.open { display:grid; place-items: start center; }
        /* Soften the bottom edge on iOS Safari where browser UI can't be blurred */
        .gh-overlay::after { content:""; position: fixed; left:0; right:0; bottom:0; height: max(48px, env(safe-area-inset-bottom)); pointer-events:none; background: linear-gradient(to bottom, rgba(27,31,36,0) 0%, rgba(27,31,36,0.22) 40%, rgba(27,31,36,0.32) 100%); }
        .gh-modal { background:#fff; border:1px solid #d0d7de; border-radius:14px; width: min(640px, 92vw); max-height: min(82vh, 82svh); box-shadow: 0 16px 48px rgba(140,149,159,.28), 0 1px 0 rgba(27,31,36,.06); overflow: auto; margin: calc(env(safe-area-inset-top) + clamp(16px, 8vh, 96px)) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); }
        .gh-modal-header { display:flex; align-items:center; justify-content:space-between; padding: .85rem 1rem; border-bottom:1px solid #d0d7de; }
        .gh-modal-header h4 { margin:0; font-size:1.05rem; color:#24292f; letter-spacing:.2px; }
        .close-btn { width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center; border:1px solid #d0d7de; border-radius:6px; background:#fff; color:#57606a; cursor:pointer; padding:0; }
        .close-btn:hover { background:#f6f8fa; }
        .gh-modal-body { padding: 1rem 1.1rem 1.1rem; line-height: 1.65; font-size: .96rem; color:#24292f; }
        .gh-modal-body p { margin: 0 0 .75rem; }
        .gh-modal-body ul { margin: .25rem 0 .6rem 1.2rem; padding:0; }
        .gh-modal-body li { margin: .35rem 0; }
        @media (max-width: 480px) {
            .gh-modal { width: 94vw; }
            .gh-modal-body { font-size: .98rem; }
        }
        .gh-modal-body code { 
            background:#f6f8fa; 
            border:1px solid #d0d7de; 
            border-radius:6px; 
            padding: 0 .35rem; 
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace; 
            font-weight: 600; 
            color:#24292f; 
            box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
        }
        /* Prevent background scroll when modal open (fallback class) */
        .no-scroll { overflow: hidden !important; }
        /* Inline validation styles */
        .input-error { border-color: #ef4444 !important; background: #fff7f7; }
        .input-valid { border-color: #22c55e !important; }
        .field-status { font-size: 0.85rem; margin-top: 0.25rem; }
        .field-status.ok { color: #16a34a; }
        .field-status.warn { color: #f59e0b; }
        .field-status.err { color: #dc2626; }

        /* Footer */
        .site-footer { border-top: 1px solid #d0d7de; margin-top: 2rem; margin-bottom: clamp(24px, 6vh, 96px); padding: .9rem 0 calc(1rem + env(safe-area-inset-bottom)); color:#57606a; font-size:.9rem; }
        .site-footer .footer-inner { display:flex; align-items:center; justify-content:space-between; gap:.5rem; flex-wrap:wrap; }
        .site-footer a { color:#0969da; text-decoration:none; }
        .site-footer a:hover { text-decoration:underline; }
        .site-footer .dot { color:#8c959f; margin: 0 .35rem; }
        .site-footer .brand { font-weight:600; color:#24292f; }
    </style>
</head>
<body>
    <div id="toast-root" class="toast-container" aria-live="polite" aria-atomic="true"></div>
    <div class="page-titlebar">
        <h1>🔍 NanoSite SEO Generator</h1>
        <div id="global-status" class="global-status" role="status" aria-live="polite"></div>
    </div>
    <p>Quickly create the files that help search engines understand your site (SEO files). This tool uses your NanoSite settings and content to generate a sitemap, robots.txt, and meta tags — ready to copy or commit to GitHub.</p>

    

    <!-- Fullscreen help overlay -->
    <div id="gh-help-overlay" class="gh-overlay" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="gh-modal" role="document">
            <div class="gh-modal-header">
                <h4>💡 What is GitHub Destination?</h4>
                <button id="gh-help-close" class="close-btn" type="button" aria-label="Close">×</button>
            </div>
            <div class="gh-modal-body">
                <p>This tells the tool which GitHub repository your site lives in.</p>
                <p><b>How to fill it in:</b></p>
                <ul>
                    <li>If your site already has this info in <code>site.yaml</code>, it will show up here automatically.</li>
                    <li>If not, just type your <code>username/repository</code> and branch name, then click <b>Save</b>.</li>
                </ul>
                <p><b>Where it’s stored:</b></p>
                <ul>
                    <li>The setting is saved only in your browser (local storage).</li>
                    <li>Nothing is uploaded anywhere until you open GitHub yourself.</li>
                </ul>
                <p><b>Why it matters:</b></p>
                <p>When you click “Open on GitHub” (to create or edit files), the tool will use this information to take you straight to the correct repository page.</p>
            </div>
        </div>
    </div>

    <!-- Fullscreen tab help overlay -->
    <div id="tab-help-overlay" class="gh-overlay" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="gh-modal" role="document">
            <div class="gh-modal-header">
                <h4 id="tab-help-title">Help</h4>
                <button id="tab-help-close" class="close-btn" type="button" aria-label="Close">×</button>
            </div>
            <div id="tab-help-body" class="gh-modal-body"></div>
        </div>
    </div>

    

    <div class="tabs">
        <div class="tab-item">
            <button class="tab active" onclick="switchTab('config')">Pre-check</button>
        </div>
        <div class="tab-item">
            <button class="tab has-help" onclick="switchTab('sitemap')">Sitemap</button>
            <button id="sitemap-help-btn" class="info-btn tab-help" type="button" aria-label="Sitemap help" aria-expanded="false">?</button>
        </div>
        <div class="tab-item">
            <button class="tab has-help" onclick="switchTab('robots')">Robots.txt</button>
            <button id="robots-help-btn" class="info-btn tab-help" type="button" aria-label="Robots help" aria-expanded="false">?</button>
        </div>
        <div class="tab-item">
            <button class="tab has-help" onclick="switchTab('meta')">HTML Meta Tags</button>
            <button id="meta-help-btn" class="info-btn tab-help" type="button" aria-label="Meta help" aria-expanded="false">?</button>
        </div>
    </div>

    <!-- Configuration Tab -->
    <div id="config-tab" class="tab-content active">
        <div class="container">
            <!-- GitHub Destination (moved into Pre-check above Site Configuration) -->
            <div class="gh-titlebar">
                <h3>GitHub Destination</h3>
                <button id="gh-help-btn" class="info-btn" type="button" aria-label="What is this?" aria-expanded="false">?</button>
            </div>
            <div class="gh-controls">
                <div class="gh-field">
                    <span class="gh-prefix">@</span>
                    <input id="gh-slug" class="gh-input" placeholder="owner/repo (e.g., deemoe/NanoSite)" title="Format: owner/repo" pattern="^@?[^\/\s]+\/[^\/\s]+$">
                    <button id="gh-revert" class="gh-inline-action" type="button" title="Revert from site.yaml">Revert</button>
                </div>
                <select id="gh-branch" class="gh-select" title="Select a branch" disabled>
                    <option value="" selected>Loading branches…</option>
                </select>
                <div class="gh-actions" style="display:flex; align-items:center; gap:.25rem;">
                    <button id="gh-save" class="btn-gh" type="button">Check</button>
                </div>
            </div>
            <div class="gh-status">
                <span id="gh-slug-status" class="badge"></span>
                <span id="gh-branch-status" class="badge"></span>
            </div>
            <div class="section-divider" aria-hidden="true"></div>

            
            <div class="config-preview" id="configPreview">
                <h3>Loading configuration...</h3>
            </div>
            
            <div class="output-group" style="display:none;">
                <textarea id="configOutput" readonly placeholder="Click 'Refresh Configuration' to load site.yaml..."></textarea>
            </div>
        </div>
    </div>

    <!-- Sitemap Tab -->
    <div id="sitemap-tab" class="tab-content">
        <div class="container">
            <div class="toolbar">
                <div class="left-actions">
                    <button class="btn-secondary btn-compact toolbar-more" onclick="toggleToolbarMore(this)" aria-expanded="false" title="More actions">More ▾</button>
                    <button class="btn-tertiary btn-compact is-extra" onclick="validateSitemap()" title="Validate XML">Validate</button>
                    <div class="divider is-extra"></div>
                    <button class="btn-secondary btn-compact is-extra" onclick="copySitemap()">Copy</button>
                    <button class="btn-secondary btn-compact is-extra" onclick="downloadSitemap()">Download</button>
                </div>
                <div class="right-actions">
                    <div class="view-toggle" aria-label="View switch">
                        <span class="vt-label">View:</span>
                        <a href="#" class="vt-btn active" data-view-target="sitemap" onclick="return __switchView('sitemap','friendly', this)">Friendly</a>
                        <span class="dim" aria-hidden="true">/</span>
                        <a href="#" class="vt-btn" data-view-target="sitemap" onclick="return __switchView('sitemap','source', this)">Source</a>
                    </div>
                    <button id="sitemap-gh-btn" class="btn-gh btn-compact" disabled title="Configure GitHub destination first">Open on GitHub</button>
                </div>
            </div>
            <div id="sitemap-status"></div>

            <!-- Human-friendly sitemap preview -->
            <div class="config-preview" id="sitemapPreview">
              <h3>Loading sitemap...</h3>
            </div>

            <!-- Raw source (hidden by default, shown via Source link) -->
            <div class="output-group" style="display:none;">
                <textarea id="sitemapOutput" placeholder="Click 'Refresh' to generate the XML..."></textarea>
            </div>
        </div>
    </div>

    <!-- Robots.txt Tab -->
    <div id="robots-tab" class="tab-content">
        <div class="container">
            <div class="toolbar">
                <div class="left-actions">
                    <button class="btn-secondary btn-compact toolbar-more" onclick="toggleToolbarMore(this)" aria-expanded="false" title="More actions">More ▾</button>
                    <button class="btn-tertiary btn-compact is-extra" onclick="validateRobots()" title="Validate robots.txt">Validate</button>
                    <div class="divider is-extra"></div>
                    <button class="btn-secondary btn-compact is-extra" onclick="copyRobots()">Copy</button>
                    <button class="btn-secondary btn-compact is-extra" onclick="downloadRobots()">Download</button>
                </div>
                <div class="right-actions">
                    <div class="view-toggle" aria-label="View switch">
                        <span class="vt-label">View:</span>
                        <a href="#" class="vt-btn active" data-view-target="robots" onclick="return __switchView('robots','friendly', this)">Friendly</a>
                        <span class="dim" aria-hidden="true">/</span>
                        <a href="#" class="vt-btn" data-view-target="robots" onclick="return __switchView('robots','source', this)">Source</a>
                    </div>
                    <button id="robots-gh-btn" class="btn-gh btn-compact" disabled title="Configure GitHub destination first">Open on GitHub</button>
                </div>
            </div>
            <div id="robots-status"></div>

            <!-- Human-friendly robots.txt preview -->
            <div class="config-preview" id="robotsPreview">
              <h3>Loading robots.txt...</h3>
            </div>

            <!-- Raw source (hidden by default, shown via Source link) -->
            <div class="output-group" style="display:none;">
                <textarea id="robotsOutput" placeholder="Click 'Refresh' to generate robots.txt..."></textarea>
            </div>
        </div>
    </div>

    <!-- HTML Meta Tags Tab -->
    <div id="meta-tab" class="tab-content">
        <div class="container">
            <div class="toolbar">
                <div class="left-actions">
                    <button class="btn-secondary btn-compact toolbar-more" onclick="toggleToolbarMore(this)" aria-expanded="false" title="More actions">More ▾</button>
                    <button class="btn-tertiary btn-compact is-extra" onclick="validateMeta()" title="Validate tags">Validate</button>
                    <div class="divider is-extra"></div>
                    <button class="btn-secondary btn-compact is-extra" onclick="copyMetaTags()">Copy</button>
                    <button class="btn-secondary btn-compact is-extra" onclick="downloadMetaTags()">Download</button>
                </div>
                <div class="right-actions">
                    <div class="view-toggle" aria-label="View switch">
                        <span class="vt-label">View:</span>
                        <a href="#" class="vt-btn active" data-view-target="meta" onclick="return __switchView('meta','friendly', this)">Friendly</a>
                        <span class="dim" aria-hidden="true">/</span>
                        <a href="#" class="vt-btn" data-view-target="meta" onclick="return __switchView('meta','source', this)">Source</a>
                    </div>
                    <button class="btn-gh btn-compact" onclick="openIndexHtmlEdit()">Open index.html on GitHub</button>
                </div>
            </div>
            <div id="meta-status"></div>

            <!-- Human-friendly meta tags preview -->
            <div class="config-preview" id="metaPreview">
              <h3>Loading meta tags...</h3>
            </div>

            <!-- Raw source (hidden by default, shown via Source link) -->
            <div class="output-group" style="display:none;">
                <textarea id="metaOutput" placeholder="Click 'Refresh' to generate meta tags..."></textarea>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="site-footer" role="contentinfo">
        <div class="footer-inner">
            <div>
                <span class="brand">NanoSite SEO Generator</span>
                <span class="dot">•</span>
                <a href="https://nano.dee.moe" target="_blank" rel="noopener">nano.dee.moe</a>
                <span class="dot">•</span>
                <a href="https://github.com/deemoe404/nanosite" target="_blank" rel="noopener">deemoe404/nanosite</a>
            </div>
            <div>
                © <span id="footer-year"></span> NanoSite contributors
            </div>
        </div>
    </footer>

    <script type="module" src="./assets/js/seo-tool-main.js?v=3"></script>

</body>
</html>
